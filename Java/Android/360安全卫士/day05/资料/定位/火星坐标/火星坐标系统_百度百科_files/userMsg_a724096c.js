F.module("/static/common/ui/userMsg/userMsg.js",function(c,b){var f=c("/static/common/ui/jquery/jquery.js"),d=c("/static/common/ui/wikiUserLogin/wikiUserLogin.js");var e={api:{msg:function(g,h){f.when(f.getScript("http://msg.baidu.com/ms?ct=18&cm=3&tn=bmSelfUsrStat&mpn=13227114&un="+g.username),f.ajax({type:"GET",url:"/api/wikimessage/msgstatus?r="+Math.random(),dataType:"JSON"})).done(function(){var i=redmsg?{redmsg:redmsg,msgnum:msgnum,sysnum:sysnum}:{redmsg:0,msgnum:0,sysnum:0};var j=!arguments[1][0].errno?arguments[1][0].data:{};h(i,j)})}}};var a={getUserMsg:function(){if(typeof arguments[0]==="object"){var h=arguments[0];if(typeof arguments[1]!="function"){throw new Error('[userMsg Exception]: Invalid argument "callback".');return}else{var i=arguments[1]}}else{if(typeof arguments[0]!="function"){throw new Error('[userMsg Exception]: Invalid argument "callback".');return}else{var i=arguments[0]}}var g=function(j){e.api.msg({username:j.nameEnc},function(k,l){i(k,l)})};if(h){g(h)}else{d.checkIfLogin({},function(){return false},function(j){g(j)})}}};b=a;return b},["/static/common/ui/jquery/jquery.js","/static/common/ui/wikiUserLogin/wikiUserLogin.js"]);